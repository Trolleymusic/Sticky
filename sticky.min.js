// Sticky
// http://github.com/Trolleymusic/Sticky
;(function(e){e.fn.Sticky=function(t){var n=function(t,n){var r,i,s,o;this.Init=function(t,n){var u,a,f,l,c,h;if(!t||!t.length){return}r=t;n=n||{};u=n.keyword||"stuck";a=n.buffer||0;f=n.bottom||false;l=n.reference||null;this.CalculateOffsets(a,l);o=false;c=r.parent().height()-parseInt(r.parent().css("padding-bottom")||0);r.parent().css("height",c+"px");h=n.bottom?function(){var t=e(this).scrollTop();if(t>=i&&t<=s&&!o){r.addClass(u);o=true;r.attr("data-stuck","fixed").css({top:""})}else if(t<i&&o){r.removeClass(u);o=false;r.removeAttr("data-stuck").css({top:""})}else if(t>s&&o){r.removeClass(u);o=false;r.attr("data-stuck","bottom").css({top:s-r.offsetParent().offset().top})}}:function(){if(e(this).scrollTop()>=i&&!o){r.addClass(u);o=true}else if(e(this).scrollTop()<i&&o){r.removeClass(u);o=false}};e(window).on("scroll",h)};this.CalculateOffsets=function(e,t){i=r.offset().top-e;s=i+r.height();if(t&&t.length&&t.height()){s=i+t.height()-r.height()}};this.GetStickyPadding=function(){return r.height()};this.IncludeStickyPadding=function(e){return e-this.GetStickyPadding()};this.Init(t,n);return this};return new n(this,t)}})(jQuery);